# Website translations
BABEL_DEFAULT_LOCALE = "__LANGUAGE__"

# Uploads dirs
UPLOADED_SOUNDS_DEST = "/home/yunohost.app/__APP__/uploads/sounds"
UPLOADS_DEFAULT_DEST = "/home/yunohost.app/__APP__/uploads"
TEMP_DOWNLOAD_FOLDER = "/home/yunohost.app/__APP__/tmp"

# Where is located Audiowaveform ?
AUDIOWAVEFORM_BIN = "__FINAL_PATH__/audiowaveform"

# If using sentry, set a DSN
SENTRY_USER_ATTRS = ['name', 'email']
SENTRY_DSN = ""

# Redis configuration for broker, used for async background tasks
CELERY_BROKER_URL = "redis://127.0.0.1:6379/0"
CELERY_RESULT_BACKEND = "redis://127.0.0.1:6379/0"

# They needs to be identical
# You can't change them after setup !
AP_DOMAIN = "__DOMAIN__"
SERVER_NAME = AP_DOMAIN
BASE_URL = "https://" + AP_DOMAIN

SQLALCHEMY_DATABASE_URI = \
    'postgresql+psycopg2://__DB_USER__:__DB_PWD__@localhost/__DB_NAME__'

# Should users confirm theire email address ?
SECURITY_CONFIRMABLE = True
# Can users register on this instance ?
SECURITY_REGISTERABLE = True
# Can users recover theire password ?
SECURITY_RECOVERABLE = True
# Salt used for password hashing
# Do not change after users have registered
SECURITY_PASSWORD_SALT = '__SECURITY_PASSWORD_SALT__'
# Do not change after users have registered
SECRET_KEY = '__SECRET_KEY__'

# Mail setup
MAIL_SERVER = "localhost"
MAIL_PORT = 25
MAIL_USE_TLS = False
MAIL_USE_SSL = False
MAIL_USERNAME = None
MAIL_PASSWORD = None
MAIL_DEFAULT_SENDER = f"postmaster@{AP_DOMAIN}"

# Development only options
DEBUG = False
TESTING = False
SQLALCHEMY_ECHO = False
DEBUG_TB_PROFILER_ENABLED = False
DEBUG_TB_INTERCEPT_REDIRECTS = False

# Do not touch that
SQLALCHEMY_TRACK_MODIFICATIONS = False
SQLALCHEMY_RECORD_QUERIES = True
# Users can change password
# Do not disable, will breaks things
SECURITY_CHANGEABLE = True
# Password hash algorithm
SECURITY_PASSWORD_HASH = 'bcrypt'

SECURITY_SEND_REGISTER_EMAIL = True
SECURITY_SEND_PASSWORD_CHANGE_EMAIL = True
SECURITY_SEND_PASSWORD_RESET_NOTICE_EMAIL = True

BOOTSTRAP_USE_MINIFIED = True
BOOTSTRAP_SERVE_LOCAL = True
BOOTSTRAP_QUERYSTRING_REVVING = True
BABEL_DEFAULT_TIMEZONE = "UTC"
